

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Upgrade an Existing MasterNode VPS Hot Wallet &mdash; Rupaya 5.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Masternodes: Basic Setup" href="../masternodes_basic/index.html" />
    <link rel="prev" title="Swap Bot - Steps to Perform the Coin Swap" href="swapbotsteps.html" />
    <link href="../_static/style.css" rel="stylesheet" type="text/css">
    <meta name="author" content="Rupaya Core Team" />
    <meta name="copyright" content="© Copyright 2018 Rupaya Core Team" />


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/Rupaya-logo-white.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction/about.html">What is Rupaya?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduction/about.html#white-paper">White Paper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/about.html#roadmap">Roadmap</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/features.html">Features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduction/features.html#specifications">Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/features.html#masternodes">Masternodes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/how-to-buy.html">How To Buy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduction/how-to-buy.html#exchanges">Exchanges</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../introduction/how-to-buy.html#coinmarketcap">CoinMarketCap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../introduction/how-to-buy.html#rupaya-markets">Rupaya markets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../introduction/how-to-buy.html#list-of-exchanges">List of exchanges</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/safety.html">Safety</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduction/safety.html#scams">Scams</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/safety.html#ponzi-schemes">Ponzi Schemes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/information.html">Links and Information</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduction/information.html#links">Links</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../introduction/information.html#official-sites">Official sites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../introduction/information.html#chat">Chat</a></li>
<li class="toctree-l3"><a class="reference internal" href="../introduction/information.html#social-media">Social media</a></li>
<li class="toctree-l3"><a class="reference internal" href="../introduction/information.html#facebook">Facebook</a></li>
<li class="toctree-l3"><a class="reference internal" href="../introduction/information.html#twitter">Twitter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../introduction/information.html#blogs">Blogs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/information.html#tools">Tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../introduction/information.html#block-explorers-statistics-and-visualizations">Block explorers, statistics and visualizations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../introduction/information.html#treasury-tools">Treasury tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../introduction/information.html#masternode-management">Masternode management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../introduction/information.html#price-monitoring-and-statistics">Price monitoring and statistics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/information.html#mobile-apps">Mobile Apps</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../introduction/information.html#ios">iOS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../introduction/information.html#android">Android</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/information.html#glossary">Glossary</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Users</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../users/index.html">Wallets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../users/index.html#rupaya-core-wallet">Rupaya Core Wallet</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Merchants</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../merchants/about.html">Getting Started</a></li>
</ul>
<p class="caption"><span class="caption-text">Network</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Rupaya Core - Coin Swap Procedures</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="unlockmncoins.html">Unlock all of your Masternode coins</a></li>
<li class="toctree-l2"><a class="reference internal" href="consolidatingcoins.html">Consolidating Coins Into A Single Wallet Address</a><ul>
<li class="toctree-l3"><a class="reference internal" href="consolidatingcoins.html#consolidating-rupx">Consolidating RUPX</a></li>
<li class="toctree-l3"><a class="reference internal" href="consolidatingcoins.html#consolidating-zrupx">Consolidating zRUPX</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="walletinstall.html">Install the New Rupaya Core 5 Wallet</a><ul>
<li class="toctree-l3"><a class="reference internal" href="walletinstall.html#documenting-your-new-wallet-address">Documenting Your New Wallet Address</a></li>
<li class="toctree-l3"><a class="reference internal" href="walletinstall.html#updating-the-wallet-default-settings">Updating the Wallet Default Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="walletinstall.html#enable-coin-control">Enable Coin Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="walletinstall.html#disable-zrupx-automint">Disable zRUPX Automint</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="swapbotsteps.html">Swap Bot - Steps to Perform the Coin Swap</a><ul>
<li class="toctree-l3"><a class="reference internal" href="swapbotsteps.html#simple-instructions-for-advanced-users">Simple Instructions for Advanced Users</a></li>
<li class="toctree-l3"><a class="reference internal" href="swapbotsteps.html#detailed-instructions">Detailed Instructions</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Upgrade an Existing MasterNode VPS Hot Wallet</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../masternodes_basic/index.html">Masternodes: Basic Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../masternodes_basic/setupoverview.html">Setup Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../masternodes_basic/setupoverview.html#running-a-masternode-on-a-home-computer-is-a-bad-idea">Running a MasterNode on a home computer is a bad idea</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../masternodes_basic/vpsandhotwallet.html">VPS and Hot wallet Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../masternodes_basic/vpsandhotwallet.html#order-and-setup-a-linux-vps">Order and setup a Linux VPS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../masternodes_basic/vpsandhotwallet.html#download-and-configure-the-rupaya-hot-wallet">Download and Configure the Rupaya Hot wallet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../masternodes_basic/vpsandhotwallet.html#verify-the-hot-wallet-is-synchronizing-with-the-blockchain">Verify the Hot wallet is synchronizing with the blockchain</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../masternodes_basic/coldwallet.html">Cold Wallet Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../masternodes_basic/coldwallet.html#requirements">Requirements:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../masternodes_basic/coldwallet.html#install-the-rupaya-cold-wallet">Install the Rupaya Cold Wallet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../masternodes_basic/coldwallet.html#create-a-new-mn-wallet-address-and-send-it-the-required-burn-coins">Create a new MN wallet address and send it the required burn coins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../masternodes_basic/coldwallet.html#output-your-mn-txhash-and-outputidx-and-update-the-masternode-configuration-file">Output your MN TXhash and Outputidx and update the MasterNode configuration file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../masternodes_basic/coldwallet.html#starting-the-mn-from-the-cold-wallet">Starting the MN from the Cold Wallet</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../masternodes_basic/verifymnstarted.html">Verify the MasterNode Started</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../masternodes_advanced/index.html">Masternodes: Advanced Setup</a><ul class="simple">
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Rupaya</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Rupaya Core - Coin Swap Procedures</a> &raquo;</li>
        
      <li>Upgrade an Existing MasterNode VPS Hot Wallet</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/coinswap/upgradeexistingmn.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="upgrade-an-existing-masternode-vps-hot-wallet">
<span id="upgradeexistingmn"></span><h1>Upgrade an Existing MasterNode VPS Hot Wallet<a class="headerlink" href="#upgrade-an-existing-masternode-vps-hot-wallet" title="Permalink to this headline">¶</a></h1>
<p>These instructions are intended for those that are already running a MasterNode and want to upgrade an existing VPS with the new Rupaya Core 5 wallet.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">We created this process for those of you that want to continue to use the same VPS.  However, there is some minor risk involved as you may need to reboot the VPS during this process.  If you are running MasterNodes from other coins on this same VPS then those MasterNodes may be impacted by the VPS reboots.  To prevent the possible impact to the other MasterNodes you are running on this VPS, we suggest doing a fresh install, on a new VPS.</p>
</div>
<ol class="arabic">
<li><p class="first">Login to the VPS provider website and update the external firewall ports to allow TCP port 9050 from all sources instead of port 9020.  You can edit the existing rule and change the port from 9020 to 9050.</p>
<blockquote>
<div><ul class="simple">
<li><strong>NOTE: This is not necessary for Virmach VPS users since they do not provide an external firewall.</strong></li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Use Putty (PC) or Terminal (MAC) to login to the Linux VPS that is running the Rupaya Hot Wallet.</p>
</li>
<li><p class="first">Login as the user that you used to install the wallet.  Below are some of the possible usernames you may have used, depending on which installation guide you followed:</p>
<blockquote>
<div><ul class="simple">
<li>root (github)</li>
<li>rupxmn (<a class="reference external" href="http://rupx.center/mnode">http://rupx.center/mnode</a>)</li>
<li>rupx01 (GoodTimes setup guide)</li>
</ul>
<p>Note: These instructions will assume that you used root as the default user since most MasterNodes were setup using the github instructions.  If you used a different username then just update the provided commands with your username rather than root.</p>
</div></blockquote>
</li>
<li><p class="first">Stop the current wallet daemon with the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rupaya</span><span class="o">-</span><span class="n">cli</span> <span class="n">stop</span>
</pre></div>
</div>
</li>
<li><p class="first">Display the contents of your existing rupaya.conf file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="o">~/.</span><span class="n">rupaya</span><span class="o">/</span><span class="n">rupaya</span><span class="o">.</span><span class="n">conf</span>
</pre></div>
</div>
</li>
<li><p class="first">Copy the contents of the rupaya.conf file and paste it into a text editor so you can easily update the necessary fields.</p>
</li>
<li><p class="first">In the text editor, change port 9020 to the new port 9050.  The port can be found at the end of the following line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">externalip</span><span class="o">=</span>
</pre></div>
</div>
</li>
<li><p class="first">Save the text file to be sure you don’t lose any of the data during the process.</p>
</li>
<li><p class="first">Back on the VPS, delete the existing rupayad daemon from the <strong>/usr/local/bin</strong> directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">rm</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">rupayad</span>
<span class="n">sudo</span> <span class="n">rm</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">rupaya</span><span class="o">-</span><span class="n">cli</span>
<span class="n">sudo</span> <span class="n">rm</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">rupaya</span><span class="o">-</span><span class="n">qt</span>
</pre></div>
</div>
</li>
<li><p class="first">Delete the existing ~/.rupaya folders:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">rm</span> <span class="o">-</span><span class="n">rf</span> <span class="o">~/.</span><span class="n">rupaya</span>
</pre></div>
</div>
</li>
<li><p class="first">Update the internal firewall to allow TCP port 9050 and to block 9020:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">ufw</span> <span class="n">allow</span> <span class="mi">9050</span><span class="o">/</span><span class="n">tcp</span>
<span class="n">sudo</span> <span class="n">ufw</span> <span class="n">deny</span> <span class="mi">9020</span><span class="o">/</span><span class="n">tcp</span>
</pre></div>
</div>
</li>
<li><p class="first">Download the new wallet and extract it to the <strong>/usr/local/bin</strong> directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">rupaya</span><span class="o">-</span><span class="n">project</span><span class="o">/</span><span class="n">rupx</span><span class="o">/</span><span class="n">releases</span><span class="o">/</span><span class="n">download</span><span class="o">/</span><span class="n">v5</span><span class="o">.</span><span class="mf">0.25</span><span class="o">/</span><span class="n">rupayaqt</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="mi">64</span><span class="n">bit</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
<span class="n">sudo</span> <span class="n">tar</span> <span class="n">xvzf</span> <span class="n">rupayaqt</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="mi">64</span><span class="n">bit</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span> <span class="o">-</span><span class="n">C</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span>
</pre></div>
</div>
</li>
<li><p class="first">Install the new wallet by running the <strong>rupayad</strong> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rupayad</span> <span class="o">-</span><span class="n">daemon</span>
</pre></div>
</div>
</li>
<li><p class="first">Generate a new MasterNode Private Key (aka GenKey):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rupaya</span><span class="o">-</span><span class="n">cli</span> <span class="n">masternode</span> <span class="n">genkey</span>
</pre></div>
</div>
</li>
<li><p class="first">Copy the outputted GenKey and paste it in the text editor, overwriting the old GenKey, with the new one you just copied, on the line <strong>masternodeprivkey=</strong></p>
</li>
<li><p class="first">Edit the new rupaya.conf file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nano</span> <span class="o">~/.</span><span class="n">rupayacore</span><span class="o">/</span><span class="n">rupaya</span><span class="o">.</span><span class="n">conf</span>
</pre></div>
</div>
</li>
<li><p class="first">Copy the contents from the text editor, that you copied from the old rupaya.conf file, and paste all of the lines into the new rupaya.conf file.</p>
</li>
<li><p class="first">Close the file and save it by hitting <strong>Ctrl-X</strong>, and then type <strong>Y</strong> to confirm that you want to save it, and then hit <strong>ENTER</strong> to confirm the file name.</p>
</li>
<li><p class="first">Stop and restart the wallet deamon:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rupaya</span><span class="o">-</span><span class="n">cli</span> <span class="n">stop</span> <span class="o">&amp;&amp;</span> <span class="n">sleep</span> <span class="mi">60</span> <span class="o">&amp;&amp;</span> <span class="n">rupayad</span> <span class="o">-</span><span class="n">daemon</span>
</pre></div>
</div>
</li>
</ol>
<ul class="simple">
<li>NOTE: If you get the error “error: couldn’t connect to server” then you may need to kill the process manually or reboot the VPS.</li>
</ul>
<p><strong>Your new VPS setup is now complete.  Please proceed to the next step to set up the Cold Wallet on your computer.</strong></p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../masternodes_basic/index.html" class="btn btn-neutral float-right" title="Masternodes: Basic Setup" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="swapbotsteps.html" class="btn btn-neutral" title="Swap Bot - Steps to Perform the Coin Swap" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Rupaya Core Team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'5.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>